{"file":"il-address.entry.esm.js","mappings":"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","names":[],"sources":["src/components/il-address/il-address.scss?tag=il-address","src/components/il-address/il-address.tsx"],"sourcesContent":[".il-address {\n  background: #4caf505c;\n  padding: 5px;\n  border-radius: 12px;\n  margin: 8px 0px;\n  .il-label {\n    margin-bottom: 0.5rem;\n    display: inline-block;\n    font-weight: 500;\n    font-size: 16px;\n    text-transform: capitalize;\n  }\n  .il-search-box {\n    margin-bottom: 1rem;\n    position: relative;\n    .select-label {\n      margin-bottom: 10px;\n      font-size: $fontSize16;\n      font-weight: $fontWeight600;\n      text-transform: capitalize;\n      display: inline-block;\n    }\n    .il-search-control {\n      position: relative;\n      width: 100%;\n      max-height: 50px;\n      display: block;\n      padding: 0.775rem 0.75rem;\n      font-size: 1rem;\n      font-weight: 400;\n      line-height: 1.5;\n      color: $ilInputColor;\n      background-color: $background-color_white;\n      background-clip: padding-box;\n      border: 1px solid $ilInputBorderColor;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      border-radius: 0.375rem;\n      transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n      &.disabled,\n      &:disabled {\n        opacity: 0.6;\n        cursor: not-allowed;\n        pointer-events: none;\n      }\n      &:focus-visible {\n        outline: 1px solid $ilInputOutlineColor;\n      }\n    }\n    .select-items {\n      background-color: $background-color_white;\n      border-radius: 0.375rem;\n      list-style: none;\n      position: absolute;\n      width: 100%;\n      z-index: 99;\n      box-shadow: 0 0 40px 5px rgba(0, 0, 0, 0.1);\n      padding: 7px 0px 7px 0px;\n      overflow-y: scroll;\n      max-height: 200px;\n      border: 1px solid $ilInputBorderColor;\n      margin-top: 5px;\n      .option {\n        color: $background-color_black;\n        padding: 11px 16px;\n        cursor: pointer;\n        user-select: none;\n        font-size: $fontSize16;\n        &:hover {\n          background-color: $mainBackgroundColor;\n        }\n      }\n      .selected {\n        background-color: $selectActiveColor;\n        color: $background-color_black;\n        padding: 11px 16px;\n        cursor: pointer;\n        user-select: none;\n        font-size: $fontSize16;\n      }\n    }\n  }\n}\n","import { Component, Prop, h, Event, EventEmitter, State, Method, Watch, Listen } from '@stencil/core';\n\ninterface Option {\n  label: string;\n  value: string;\n}\n\nconst fields = [\n  { name: 'zipcode', lable: 'Zipcode', required: false, informationText: '' },\n  // { name: 'country', lable: 'Country', required: false, informationText: '' },\n  { name: 'address', lable: 'Address', required: false, informationText: '' },\n  { name: 'city', lable: 'City', required: false, informationText: '' },\n  { name: 'state', lable: 'State', required: false, informationText: '' },\n];\n\n@Component({\n  tag: 'il-address',\n  styleUrl: 'il-address.scss',\n})\nexport class IlAddress {\n  @Prop({ reflect: true, mutable: true }) label: string;\n  @Prop({ reflect: true, mutable: true }) value: any;\n  @Prop() tooltip: String;\n  @Prop() error: string | undefined;\n  @Prop() readOnly: boolean;\n  @Prop() apiBaseUrl: string;\n  @Prop() required: boolean;\n  @Prop() carrierAuthorization: string;\n  @Prop() placeholder: object = { address: 'Search ....' };\n\n  @Watch('value')\n  watchPropHandler(newValue: any) {\n    if (newValue) {\n      this.searchQuery = newValue.description || '';\n    }\n  }\n\n  @State() dropdown;\n  @State() options: Option[] = [];\n  @State() searchQuery: string = '';\n  @State() isOpen: boolean = false;\n\n  @Event() valueChanged: EventEmitter<Object>; // Event emitted when the value changes\n  @Event() valueBlur: EventEmitter<Object>;\n\n  @Listen('click', { target: 'window' })\n  handleClickOutside(event: MouseEvent) {\n    if (!this.isOpen || this.dropdown.contains(event.target as Node)) {\n      return;\n    }\n    this.valueBlur.emit({ ...this.value, description: this.searchQuery });\n    this.isOpen = false;\n  }\n\n  componentDidLoad() {\n    this.searchQuery = this.value.description || '';\n  }\n\n  handleSearchInput(event: Event) {\n    const inputElement = event.target as HTMLInputElement;\n    this.searchQuery = inputElement.value;\n    this.debouncedMethod(inputElement.value);\n  }\n\n  private timeoutId: NodeJS.Timeout | undefined;\n\n  @Method()\n  async getOptions(text) {\n    try {\n      const rawResponse = await fetch(`${this.apiBaseUrl}/getAddressDetails?address=${text}`, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Carrierauthorization': this.carrierAuthorization || '',\n        },\n      });\n      const content = await rawResponse.json();\n      return content.data;\n    } catch (error) {\n      console.log('error', error);\n    }\n    return 42;\n  }\n  @Method()\n  async debouncedMethod(searchText: any) {\n    if (this.timeoutId) {\n      clearTimeout(this.timeoutId);\n    }\n    this.timeoutId = setTimeout(async () => {\n      this.valueChanged.emit({ ...this.value, description: searchText });\n      const data = await this.getOptions(searchText);\n      this.options = data;\n    }, 300);\n  }\n\n  private onInputFocusValue() {\n    this.isOpen = true;\n  }\n\n  handleSelect(option: Option) {\n    const result: any = this.options.find((val: any) => option.value == val.description) || {};\n    this.valueChanged.emit(result);\n    this.searchQuery = option.value; // Clear the search query after selection\n    this.isOpen = false;\n  }\n\n  handleFieldChange(ev, name) {\n    ev.stopPropagation();\n    let data = { ...this.value, [name]: ev.detail };\n    this.valueChanged.emit(data);\n  }\n\n  // handleBlur(detail, name) {}\n\n  render() {\n    const filteredOptions = this.options\n      .map((option: any) => ({ label: option.description, value: option.description }))\n      .filter(option => option.label.toLowerCase().includes(this.searchQuery.toLowerCase()));\n    return (\n      <div class=\"il-address\" ref={el => (this.dropdown = el)}>\n        <div class=\"il-address-inner\">\n          {this.label ? <p class=\"il-label\">{this.label}</p> : null}\n          {this.required ? <span class=\"il-required\">*</span> : null}\n          {this.tooltip ? <il-tooltip tooltip={this.tooltip}></il-tooltip> : null}\n        </div>\n\n        <div class=\"il-search-box\">\n          <input\n            class=\"il-search-control\"\n            type=\"text\"\n            value={this.searchQuery}\n            placeholder={this.placeholder?.['address']}\n            onFocus={() => this.onInputFocusValue()}\n            onInput={event => this.handleSearchInput(event)}\n            {...this.readOnly && { disabled: true }}\n          />\n\n          {this.isOpen && filteredOptions.length ? (\n            <ul class=\"select-items\">\n              {filteredOptions.map(option => (\n                <li class=\"option\" onClick={() => this.handleSelect(option)}>\n                  {option.label}\n                </li>\n              ))}\n            </ul>\n          ) : null}\n          {this.error ? <p class=\"il-error\">{this.error}</p> : null}\n        </div>\n\n        <div class=\"il-address-child-questions\">\n          {fields.map(val => {\n            return (\n              <il-input\n                type={'text'}\n                label={val.lable}\n                value={this.value[val.name] || ''}\n                error={''}\n                readOnly={this.readOnly}\n                placeholder={this.placeholder?.[val.name] ?? ''}\n                required={val.required}\n                tooltip={val.informationText || ''}\n                onValueChanged={ev => {\n                  this.handleFieldChange(ev, val.name);\n                }}\n              // onValueBlur={ev => {}}\n              ></il-input>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n"],"version":3}